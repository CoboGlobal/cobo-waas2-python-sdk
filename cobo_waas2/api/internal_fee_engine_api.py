# coding: utf-8

"""
    Cobo Wallet as a Service 2.0

    Contact: help@cobo.com
    Generated by OpenAPI Generator (https://openapi-generator.tech)

    Do not edit the class manually.
"""  # noqa: E501

from pydantic import validate_call, Field, StrictFloat, StrictStr, StrictInt
from typing import Any, Dict, List, Optional, Tuple, Union
from typing_extensions import Annotated

from pydantic import Field, StrictInt, StrictStr
from typing import Any, Dict, List, Optional
from typing_extensions import Annotated
from cobo_waas2.models.commission_fee_detail import CommissionFeeDetail
from cobo_waas2.models.transaction_request_type_params import TransactionRequestTypeParams

from cobo_waas2.api_client import ApiClient, RequestSerialized
from cobo_waas2.api_response import ApiResponse
from cobo_waas2.rest import RESTResponseType


class InternalFeeEngineApi:
    """NOTE: This class is auto generated by OpenAPI Generator
    Ref: https://openapi-generator.tech

    Do not edit the class manually.
    """

    def __init__(self, api_client: ApiClient = None) -> None:
        if api_client is None:
            api_client = ApiClient.get_default()
        self.api_client = api_client

    @validate_call
    def get_commission_fee(
        self,
        request_id: Annotated[StrictStr, Field(description="Unique request identifier")],
        business_type_id: Optional[StrictInt] = None,
        amount: Annotated[Optional[StrictInt], Field(description="Transaction amount in smallest unit")] = None,
        chain_id: Annotated[Optional[StrictStr], Field(description="Blockchain chain ID")] = None,
        token_id: Annotated[Optional[StrictStr], Field(description="Token ID")] = None,
        wallet_id: Annotated[Optional[StrictStr], Field(description="Wallet ID")] = None,
        wallet_type: Annotated[Optional[StrictInt], Field(description="Wallet type")] = None,
        request_type: Optional[TransactionRequestTypeParams] = None,
        strategy_context: Annotated[Optional[Dict[str, Any]], Field(description="Strategy context parameters. ")] = None,
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
    ) -> List[CommissionFeeDetail]:
        """Get commission fee

        This operation retrieves commission fee. 

        :param request_id: Unique request identifier (required)
        :type request_id: str
        :param business_type_id:
        :type business_type_id: int
        :param amount: Transaction amount in smallest unit
        :type amount: int
        :param chain_id: Blockchain chain ID
        :type chain_id: str
        :param token_id: Token ID
        :type token_id: str
        :param wallet_id: Wallet ID
        :type wallet_id: str
        :param wallet_type: Wallet type
        :type wallet_type: int
        :param request_type:
        :type request_type: TransactionRequestTypeParams
        :param strategy_context: Strategy context parameters. 
        :type strategy_context: Dict[str, object]
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :return: Returns the result object.
        """  # noqa: E501

        _param = self._get_commission_fee_serialize(
            request_id=request_id,
            business_type_id=business_type_id,
            amount=amount,
            chain_id=chain_id,
            token_id=token_id,
            wallet_id=wallet_id,
            wallet_type=wallet_type,
            request_type=request_type,
            strategy_context=strategy_context,
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "List[CommissionFeeDetail]",
            '4XX': "ErrorResponse",
            '5XX': "ErrorResponse",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        ).data

    @validate_call
    def get_commission_fee_with_http_info(
        self,
        request_id: Annotated[StrictStr, Field(description="Unique request identifier")],
        business_type_id: Optional[StrictInt] = None,
        amount: Annotated[Optional[StrictInt], Field(description="Transaction amount in smallest unit")] = None,
        chain_id: Annotated[Optional[StrictStr], Field(description="Blockchain chain ID")] = None,
        token_id: Annotated[Optional[StrictStr], Field(description="Token ID")] = None,
        wallet_id: Annotated[Optional[StrictStr], Field(description="Wallet ID")] = None,
        wallet_type: Annotated[Optional[StrictInt], Field(description="Wallet type")] = None,
        request_type: Optional[TransactionRequestTypeParams] = None,
        strategy_context: Annotated[Optional[Dict[str, Any]], Field(description="Strategy context parameters. ")] = None,
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
    ) -> ApiResponse[List[CommissionFeeDetail]]:
        """Get commission fee

        This operation retrieves commission fee. 

        :param request_id: Unique request identifier (required)
        :type request_id: str
        :param business_type_id:
        :type business_type_id: int
        :param amount: Transaction amount in smallest unit
        :type amount: int
        :param chain_id: Blockchain chain ID
        :type chain_id: str
        :param token_id: Token ID
        :type token_id: str
        :param wallet_id: Wallet ID
        :type wallet_id: str
        :param wallet_type: Wallet type
        :type wallet_type: int
        :param request_type:
        :type request_type: TransactionRequestTypeParams
        :param strategy_context: Strategy context parameters. 
        :type strategy_context: Dict[str, object]
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :return: Returns the result object.
        """  # noqa: E501

        _param = self._get_commission_fee_serialize(
            request_id=request_id,
            business_type_id=business_type_id,
            amount=amount,
            chain_id=chain_id,
            token_id=token_id,
            wallet_id=wallet_id,
            wallet_type=wallet_type,
            request_type=request_type,
            strategy_context=strategy_context,
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "List[CommissionFeeDetail]",
            '4XX': "ErrorResponse",
            '5XX': "ErrorResponse",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        )

    @validate_call
    def get_commission_fee_without_preload_content(
        self,
        request_id: Annotated[StrictStr, Field(description="Unique request identifier")],
        business_type_id: Optional[StrictInt] = None,
        amount: Annotated[Optional[StrictInt], Field(description="Transaction amount in smallest unit")] = None,
        chain_id: Annotated[Optional[StrictStr], Field(description="Blockchain chain ID")] = None,
        token_id: Annotated[Optional[StrictStr], Field(description="Token ID")] = None,
        wallet_id: Annotated[Optional[StrictStr], Field(description="Wallet ID")] = None,
        wallet_type: Annotated[Optional[StrictInt], Field(description="Wallet type")] = None,
        request_type: Optional[TransactionRequestTypeParams] = None,
        strategy_context: Annotated[Optional[Dict[str, Any]], Field(description="Strategy context parameters. ")] = None,
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
    ) -> RESTResponseType:
        """Get commission fee

        This operation retrieves commission fee. 

        :param request_id: Unique request identifier (required)
        :type request_id: str
        :param business_type_id:
        :type business_type_id: int
        :param amount: Transaction amount in smallest unit
        :type amount: int
        :param chain_id: Blockchain chain ID
        :type chain_id: str
        :param token_id: Token ID
        :type token_id: str
        :param wallet_id: Wallet ID
        :type wallet_id: str
        :param wallet_type: Wallet type
        :type wallet_type: int
        :param request_type:
        :type request_type: TransactionRequestTypeParams
        :param strategy_context: Strategy context parameters. 
        :type strategy_context: Dict[str, object]
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :return: Returns the result object.
        """  # noqa: E501

        _param = self._get_commission_fee_serialize(
            request_id=request_id,
            business_type_id=business_type_id,
            amount=amount,
            chain_id=chain_id,
            token_id=token_id,
            wallet_id=wallet_id,
            wallet_type=wallet_type,
            request_type=request_type,
            strategy_context=strategy_context,
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "List[CommissionFeeDetail]",
            '4XX': "ErrorResponse",
            '5XX': "ErrorResponse",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        return response_data.response

    def _get_commission_fee_serialize(
        self,
        request_id,
        business_type_id,
        amount,
        chain_id,
        token_id,
        wallet_id,
        wallet_type,
        request_type,
        strategy_context,
    ) -> RequestSerialized:
        _path_params: Dict[str, str] = {}
        _query_params: List[Tuple[str, str]] = []
        _form_params: List[Tuple[str, str]] = []
        _files: Dict[str, Union[str, bytes]] = {}
        _body_params: Optional[bytes] = None

        # process the path parameters
        # process the query parameters
        if request_id is not None:
            
            _query_params.append(('request_id', request_id))
            
        if business_type_id is not None:
            
            _query_params.append(('business_type_id', business_type_id))
            
        if amount is not None:
            
            _query_params.append(('amount', amount))
            
        if chain_id is not None:
            
            _query_params.append(('chain_id', chain_id))
            
        if token_id is not None:
            
            _query_params.append(('token_id', token_id))
            
        if wallet_id is not None:
            
            _query_params.append(('wallet_id', wallet_id))
            
        if wallet_type is not None:
            
            _query_params.append(('wallet_type', wallet_type))
            
        if request_type is not None:
            
            _query_params.append(('request_type', request_type.value))
            
        if strategy_context is not None:
            
            _query_params.append(('strategy_context', strategy_context))
            
        # process the header parameters
        # process the form parameters
        # process the body parameter

        # set the HTTP header `Accept`
        _header_params = {
            "Accept": "application/json",
            "Content-Type": "application/json"
        }

        return self.api_client.param_serialize(
            method='GET',
            resource_path='/internal/commission_fee',
            path_params=_path_params,
            query_params=_query_params,
            header_params=_header_params,
            body=_body_params,
            post_params=_form_params,
            files=_files,
        )
